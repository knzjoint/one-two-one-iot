(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ea38f850"],{4699:function(t,e,n){"use strict";n.r(e);var r=n("434f"),o=Object(r["createTextVNode"])("创建应用"),i=Object(r["createElementVNode"])("a",{style:{"margin-right":"8px"}},"复制",-1),a=Object(r["createTextVNode"])("删除");function c(t,e,n,c,u,l){var f=Object(r["resolveComponent"])("a-button"),p=Object(r["resolveComponent"])("a-popconfirm"),s=Object(r["resolveComponent"])("a-table"),d=Object(r["resolveComponent"])("a-input"),m=Object(r["resolveComponent"])("a-form-item"),h=Object(r["resolveComponent"])("a-select-option"),b=Object(r["resolveComponent"])("a-select"),y=Object(r["resolveComponent"])("a-form"),v=Object(r["resolveComponent"])("a-modal");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(f,{type:"primary",onClick:l.showModal},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["onClick"]),Object(r["createVNode"])(s,{columns:u.columns,"row-key":function(t){return t.uuid},"data-source":u.data,pagination:u.pagination,loading:u.loading,onChange:l.handleTableChange},{operation:Object(r["withCtx"])((function(e){var n=e.record;return[Object(r["createVNode"])(p,{title:"是否复制设备账户密码?",onConfirm:function(e){return l.onCopyApplicationToken(t.e,n)}},{default:Object(r["withCtx"])((function(){return[i]})),_:2},1032,["onConfirm"]),Object(r["createVNode"])(p,{title:"是否删除此主题?",onConfirm:function(t){return l._deleteApplicationOne(n)}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{size:"small",type:"primary"},{default:Object(r["withCtx"])((function(){return[a]})),_:1})]})),_:2},1032,["onConfirm"])]})),_:1},8,["columns","row-key","data-source","pagination","loading","onChange"]),Object(r["createVNode"])(v,{title:"创建应用",visible:u.visible,"confirm-loading":u.confirmLoading,onOk:l.addApplicationToken,onCancel:l.handleCancel},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(y,{model:u.applicationTokenForm,"label-col":{span:4},"wrapper-col":{span:14}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{label:"应用名"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{value:u.applicationTokenForm.applicationName,"onUpdate:value":e[0]||(e[0]=function(t){return u.applicationTokenForm.applicationName=t}),placeholder:"应用名"},null,8,["value"])]})),_:1}),Object(r["createVNode"])(m,{label:" 产 品 "},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{style:{width:"120px"},value:u.applicationTokenForm.productId,"onUpdate:value":e[1]||(e[1]=function(t){return u.applicationTokenForm.productId=t})},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(u.productData,(function(t){return Object(r["openBlock"])(),Object(r["createBlock"])(h,{value:t.id,key:t.productEnName},{default:Object(r["withCtx"])((function(){return[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.productName),1)]})),_:2},1032,["value"])})),128))]})),_:1},8,["value"])]})),_:1})]})),_:1},8,["model"])]})),_:1},8,["visible","confirm-loading","onOk","onCancel"])])}var u=n("b49e"),l=(n("7e5a"),n("b255")),f=n("c4c8"),p=n("f71e"),s=[{title:"ID",dataIndex:"id"},{title:"产品",dataIndex:"description"},{title:"应用名",dataIndex:"applicationName"},{title:"Token",dataIndex:"token",ellipsis:!0},{title:"创建时间",dataIndex:"createTime"},{title:"操作",dataIndex:"operation",slots:{customRender:"operation"}}],d={data:function(){return{data:[],pagination:{showLessItems:!0,showQuickJumper:!0,showSizeChanger:!0},query:{},loading:!1,columns:s,applicationTokenForm:{applicationName:null,productId:1},visible:!1,confirmLoading:!1,productData:[]}},mounted:function(){this.fetch()},methods:{showModal:function(){var t=this;this.visible=!0,Object(f["getProductList"])().then((function(e){t.productData=e.data}))},addApplicationToken:function(){var t=this;this.confirmLoading=!0,Object(l["addApplication"])(this.applicationTokenForm).then((function(e){t.visible=!1,t.fetch()})).finally((function(){t.confirmLoading=!1}))},handleCancel:function(){this.visible=!1},handleTableChange:function(t){var e=Object(u["a"])({},this.pagination);e.current=t.current,this.pagination=e,this.fetch()},onCopyApplicationToken:function(t,e){var n=e.token;Object(p["copyHandle"])(n)},_deleteApplicationOne:function(t){var e=this;Object(l["deleteApplicationToken"])(t.id).then((function(t){e.fetch()}))},fetch:function(){var t=this;this.loading=!0,Object(l["getPage"])({pageSize:this.pagination.pageSize,current:this.pagination.current}).then((function(e){console.log(e),t.loading=!1,t.pagination.total=e.data.total,t.data=e.data.records}))}}},m=n("b3f2"),h=n.n(m);const b=h()(d,[["render",c]]);e["default"]=b},b255:function(t,e,n){"use strict";n.r(e),n.d(e,"getPage",(function(){return i})),n.d(e,"addApplication",(function(){return c})),n.d(e,"deleteApplicationToken",(function(){return l}));var r=n("291b"),o=(n("e186"),n("b775"));function i(t){return a.apply(this,arguments)}function a(){return a=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/application-token/page",method:"get",params:e}));case 1:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)}function c(t){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/application-token/add-application",method:"post",data:e}));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function l(t){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/application-token/"+e,method:"delete"}));case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}},c4c8:function(t,e,n){"use strict";n.r(e),n.d(e,"getProductOne",(function(){return i})),n.d(e,"getProductList",(function(){return c})),n.d(e,"getPage",(function(){return l})),n.d(e,"addProduct",(function(){return p})),n.d(e,"deleteProduct",(function(){return d}));var r=n("291b"),o=(n("e186"),n("b775"));function i(t){return a.apply(this,arguments)}function a(){return a=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/product/"+e,method:"get"}));case 1:case"end":return t.stop()}}),t)}))),a.apply(this,arguments)}function c(){return u.apply(this,arguments)}function u(){return u=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/product/list",method:"get"}));case 1:case"end":return t.stop()}}),t)}))),u.apply(this,arguments)}function l(t){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/product/page",method:"get",params:e}));case 1:case"end":return t.stop()}}),t)}))),f.apply(this,arguments)}function p(t){return s.apply(this,arguments)}function s(){return s=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/product/add-product",method:"post",data:e}));case 1:case"end":return t.stop()}}),t)}))),s.apply(this,arguments)}function d(t){return m.apply(this,arguments)}function m(){return m=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(o["default"])({url:"/product/"+e,method:"delete"}));case 1:case"end":return t.stop()}}),t)}))),m.apply(this,arguments)}},f71e:function(t,e,n){"use strict";n.r(e),n.d(e,"handleClipboard",(function(){return u})),n.d(e,"handleClipboardText",(function(){return l})),n.d(e,"copyHandle",(function(){return f}));var r=n("f962"),o=n.n(r),i=n("893d");function a(t){i["a"].success("复制".concat(t,"成功"))}function c(t){i["a"].error("复制".concat(t,"失败"))}function u(t,e){var n=new o.a(e.target,{text:function(){return t}});n.on("success",(function(){a(t),n.destroy()})),n.on("error",(function(){c(t),n.destroy()})),n.onClick(e)}function l(t){var e=function e(n){n.preventDefault(),n.clipboardData.setData("text/plain",t),console.log(n),u(t,n),document.removeEventListener("copy",e)};document.addEventListener("copy",e),document.execCommand("copy"),document.createAttribute("data-clipboard-text")}function f(t){var e=function e(n){n.preventDefault(),n.clipboardData.setData("text/plain",t),a(t),document.removeEventListener("copy",e)};document.addEventListener("copy",e),document.execCommand("copy")}},f962:function(t,e,n){
/*!
 * clipboard.js v2.0.10
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(){var t={686:function(t,e,n){"use strict";n.d(e,{default:function(){return R}});var r=n(279),o=n.n(r),i=n(370),a=n.n(i),c=n(817),u=n.n(c);function l(t){try{return document.execCommand(t)}catch(e){return!1}}var f=function(t){var e=u()(t);return l("cut"),e},p=f;function s(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var r=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(r,"px"),n.setAttribute("readonly",""),n.value=t,n}var d=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";if("string"===typeof t){var r=s(t);e.container.appendChild(r),n=u()(r),l("copy"),r.remove()}else n=u()(t),l("copy");return n},m=d;function h(t){return h="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}var b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,r=t.container,o=t.target,i=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==o){if(!o||"object"!==h(o)||1!==o.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&o.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(o.hasAttribute("readonly")||o.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return i?m(i,{container:r}):o?"cut"===n?p(o):m(o,{container:r}):void 0},y=b;function v(t){return v="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e,n){return e&&O(t.prototype,e),n&&O(t,n),t}function j(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&x(t,e)}function x(t,e){return x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},x(t,e)}function k(t){var e=E();return function(){var n,r=S(t);if(e){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return C(this,n)}}function C(t,e){return!e||"object"!==v(e)&&"function"!==typeof e?T(t):e}function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}function A(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}var N=function(t){j(n,t);var e=k(n);function n(t,r){var o;return g(this,n),o=e.call(this),o.resolveOptions(r),o.listenClick(t),o}return w(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===v(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=a()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy",r=y({action:n,container:this.container,target:this.target(e),text:this.text(e)});this.emit(r?"success":"error",{action:n,text:r,trigger:e,clearSelection:function(){e&&e.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return A("action",t)}},{key:"defaultTarget",value:function(t){var e=A("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return A("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return m(t,e)}},{key:"cut",value:function(t){return p(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),n}(o()),R=N},828:function(t){var e=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function r(t,n){while(t&&t.nodeType!==e){if("function"===typeof t.matches&&t.matches(n))return t;t=t.parentNode}}t.exports=r},438:function(t,e,n){var r=n(828);function o(t,e,n,r,o){var i=a.apply(this,arguments);return t.addEventListener(n,i,o),{destroy:function(){t.removeEventListener(n,i,o)}}}function i(t,e,n,r,i){return"function"===typeof t.addEventListener?o.apply(null,arguments):"function"===typeof n?o.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return o(t,e,n,r,i)})))}function a(t,e,n,o){return function(n){n.delegateTarget=r(n.target,e),n.delegateTarget&&o.call(t,n)}}t.exports=i},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,n){var r=n(879),o=n(438);function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!r.string(e))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(t))return a(t,e,n);if(r.nodeList(t))return c(t,e,n);if(r.string(t))return u(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function c(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function u(t,e,n){return o(document.body,t,e,n)}t.exports=i},817:function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var r=window.getSelection(),o=document.createRange();o.selectNodeContents(t),r.removeAllRanges(),r.addRange(o),e=r.toString()}return e}t.exports=e},279:function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var r=this;function o(){r.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],o=[];if(r&&e)for(var i=0,a=r.length;i<a;i++)r[i].fn!==e&&r[i].fn._!==e&&o.push(r[i]);return o.length?n[t]=o:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}return function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),n(686)}().default}))}}]);